@model TextIndexViewModel
@{
	ViewData["Title"] = "Lista tekstów";
}

<div class="container">
	<div class="row">

		<!-- Wyszukiwarka -->
		<div class="d-none d-md-block col-md-12 col-xl-3">
			<div class="card mt-2 shadow-sm ">
				<div class="card-body">
					Wyszukiwarka
				</div>
			</div>
		</div>

		<!-- Lista tekstów -->
		<div class="col-xl-9">
			<!-- pętla -->
			@foreach (var item in Model.Texts)
			{
				<div class="card mt-2 shadow-sm">
					<div class="card-header">
						<h4 class="text-primary">@item.Title</h4>
					</div>
					<div class="row">
						<div class="col-md-4">
							<img src="@Url.Content(String.IsNullOrEmpty(item.Graphic) ? "~/img/mini/"+item.CategoryId+".jpg" : "~/img/mini/"+item.Graphic)" class="img-fluid" alt="@item.Category.Name" />
						</div>
						<div class="col-md-8">
							<div class="card-body">
								<h5 class="card-title text-success">@item.Author.FullName</h5>
								<p class="card-text fst-italic">@item.Summary</p>
								<p class="card-text"><small class="text-muted">Opublikowano: @item.AddedDate.ToString("dd.MM.yyyy") </small></p>
								<div class="position-relative">
									<a href="#" class="btn btn-outline-primary position-absolute bottom-0 end-0">Czytaj >>></a>
								</div>
							</div> <!-- card body -->
						</div>
					</div> <!-- row -->
				</div> <!-- card -->
			} <!-- pętla foreach -->
		</div> <!--koniec listy z tekstami -->
	</div> <!--koniec obszaru z danymi -->

	<!-- Stronicowanie -->
	<div class="row mt-3">
		<nav aria-label="Nawigacja pomiędzy kolejnymi stronami">
			<ul class="pagination">
				@{
					if (Model.TextList.PageNumber > 1)
					{
						<li class="page-item">
							<a class="page-link" href="@Url.Action("Index", "Texts", new{PageNumber = Model.TextList.PageNumber - 1})">Poprzednia</a>
						</li>
					}
					for (var i = 1; i <= Model.TextList.PageCount; i++)
					{
						<li class="@(i == @Model.TextList.PageNumber ? "page-item active" : "page-active")">
							<a class="page-link" href="@Url.Action("Index", "Texts", new{PageNumber = i})">@i</a>
						</li>
					}
					if (Model.TextList.PageNumber < Model.TextList.PageCount)
					{
						<li class="page-item">
							<a class="page-link" href="@Url.Action("Index", "Texts", new{PageNumber = Model.TextList.PageNumber + 1})">Następna</a>
						</li>
					}
				}
			</ul>
		</nav>
	</div>

</div>